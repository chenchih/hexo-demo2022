<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 6.3.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/hexo-demo2022/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/hexo-demo2022/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/hexo-demo2022/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/hexo-demo2022/images/logo.svg" color="#222">

<link rel="stylesheet" href="/hexo-demo2022/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css" integrity="sha256-DfWjNxDkM94fVBWx1H5BMMp0Zq7luBlV8QRcSES7s+0=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"chenchih.github.io","root":"/hexo-demo2022/","images":"/hexo-demo2022/images","scheme":"Gemini","darkmode":false,"version":"8.11.1","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":true,"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"}}</script><script src="/hexo-demo2022/js/config.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-229669517-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'c');
</script>

    <meta name="description" content="今天我想分享關於目錄和檔案相關範例，如重新立名，出檔案，我會用很多方式呈現出來。 List current directory 目錄利出檔案list your file in current directory 目錄列出檔案我們常在 linux 和 window 都會用 ‵ls‵ 或　‵dir‵ 來列出我們目錄底下所有檔案。 可以用 os.listdir() 就可以利出所有目錄和檔案  目前目錄下">
<meta property="og:type" content="article">
<meta property="og:title" content="Rename_and_List_file_example 列出檔案目錄和如重新立名">
<meta property="og:url" content="https://chenchih.github.io/hexo-demo2022/2024/11/28/20241128_Rename_and_List_file_example/index.html">
<meta property="og:site_name" content="Chen-Chih Technical Note Blog">
<meta property="og:description" content="今天我想分享關於目錄和檔案相關範例，如重新立名，出檔案，我會用很多方式呈現出來。 List current directory 目錄利出檔案list your file in current directory 目錄列出檔案我們常在 linux 和 window 都會用 ‵ls‵ 或　‵dir‵ 來列出我們目錄底下所有檔案。 可以用 os.listdir() 就可以利出所有目錄和檔案  目前目錄下">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2024-11-28T07:16:40.000Z">
<meta property="article:modified_time" content="2024-11-29T07:09:05.702Z">
<meta property="article:author" content="chenchih">
<meta property="article:tag" content="python">
<meta property="article:tag" content="file">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://chenchih.github.io/hexo-demo2022/2024/11/28/20241128_Rename_and_List_file_example/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"en","comments":true,"permalink":"https://chenchih.github.io/hexo-demo2022/2024/11/28/20241128_Rename_and_List_file_example/","path":"2024/11/28/20241128_Rename_and_List_file_example/","title":"Rename_and_List_file_example 列出檔案目錄和如重新立名"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>Rename_and_List_file_example 列出檔案目錄和如重新立名 | Chen-Chih Technical Note Blog - Tech Notes & Tutorials</title>
  







  <noscript>
    <link rel="stylesheet" href="/hexo-demo2022/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/hexo-demo2022/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">Chen-Chih Technical Note Blog</p>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">Tech Notes & Tutorials</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/hexo-demo2022/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a></li><li class="menu-item menu-item-about"><a href="/hexo-demo2022/about/" rel="section"><i class="fa fa-user fa-fw"></i>About</a></li><li class="menu-item menu-item-tags"><a href="/hexo-demo2022/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a></li><li class="menu-item menu-item-categories"><a href="/hexo-demo2022/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a></li><li class="menu-item menu-item-archives"><a href="/hexo-demo2022/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a></li>
  </ul>
</nav>




</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#List-current-directory-%E7%9B%AE%E9%8C%84%E5%88%A9%E5%87%BA%E6%AA%94%E6%A1%88"><span class="nav-number">1.</span> <span class="nav-text">List current directory 目錄利出檔案</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#list-your-file-in-current-directory-%E7%9B%AE%E9%8C%84%E5%88%97%E5%87%BA%E6%AA%94%E6%A1%88"><span class="nav-number">1.1.</span> <span class="nav-text">list your file in current directory 目錄列出檔案</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#filter-specific-file-or-file-type-%E7%AF%A9%E9%81%B8%E6%AA%94%E5%90%8D"><span class="nav-number">1.2.</span> <span class="nav-text">filter specific file or file type 篩選檔名</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#count-matching-file"><span class="nav-number">2.</span> <span class="nav-text">count matching file</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%96%B9%E6%B3%95%E4%B8%80-os-listdir-%E8%B7%9F-len"><span class="nav-number">2.1.</span> <span class="nav-text">[方法一] os.listdir 跟 len</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%96%B9%E6%B3%95%E4%BA%8C-sum-%E6%96%B9%E5%BC%8F"><span class="nav-number">2.2.</span> <span class="nav-text">[方法二] sum 方式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%96%B9%E6%B3%95%E4%B8%89-glob-%E6%96%B9%E5%BC%8F"><span class="nav-number">2.3.</span> <span class="nav-text">[方法三] glob 方式</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Rename-File"><span class="nav-number">3.</span> <span class="nav-text">Rename File</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#single-file-rename"><span class="nav-number">3.1.</span> <span class="nav-text">single file rename</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Rename-with-Multiple-File"><span class="nav-number">3.2.</span> <span class="nav-text">Rename with Multiple File</span></a></li></ol></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="chenchih"
      src="/hexo-demo2022/images/profile.jpeg">
  <p class="site-author-name" itemprop="name">chenchih</p>
  <div class="site-description" itemprop="description">Chen-Chih Lee’s technical blog sharing QA, 5G, Python, Linux, and telecom testing notes. A space for tutorials, insights, and practical examples.</div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/hexo-demo2022/archives/">
          <span class="site-state-item-count">37</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/hexo-demo2022/categories/">
        <span class="site-state-item-count">12</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/hexo-demo2022/tags/">
        <span class="site-state-item-count">31</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author site-overview-item animated">
      <span class="links-of-author-item">
        <a href="https://github.com/chenchih" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;chenchih" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:jacklee26@gmail.com" title="E-Mail → mailto:jacklee26@gmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://twitter.com/jacklee26" title="Twitter → https:&#x2F;&#x2F;twitter.com&#x2F;jacklee26" rel="noopener" target="_blank"><i class="fab fa-twitter fa-fw"></i>Twitter</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.linkedin.com/in/chenchih" title="Linkedin → https:&#x2F;&#x2F;www.linkedin.com&#x2F;in&#x2F;chenchih" rel="noopener" target="_blank"><i class="fab fa-linkedin-in fa-fw"></i>Linkedin</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://medium.com/jacklee26" title="Medium → https:&#x2F;&#x2F;medium.com&#x2F;jacklee26" rel="noopener" target="_blank"><i class="fab fa-medium-m fa-fw"></i>Medium</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://dev.to/chenchih" title="Dev → https:&#x2F;&#x2F;dev.to&#x2F;chenchih" rel="noopener" target="_blank"><i class="fa-brands fa-dev fa-fw"></i>Dev</a>
      </span>
  </div>
  <div class="cc-license site-overview-item animated" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" class="cc-opacity" rel="noopener" target="_blank"><img src="https://cdnjs.cloudflare.com/ajax/libs/creativecommons-vocabulary/2020.11.3/assets/license_badges/small/by_nc_sa.svg" alt="Creative Commons"></a>
  </div>



        </div>
      </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="en">
    <link itemprop="mainEntityOfPage" href="https://chenchih.github.io/hexo-demo2022/2024/11/28/20241128_Rename_and_List_file_example/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/hexo-demo2022/images/profile.jpeg">
      <meta itemprop="name" content="chenchih">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Chen-Chih Technical Note Blog">
      <meta itemprop="description" content="Chen-Chih Lee’s technical blog sharing QA, 5G, Python, Linux, and telecom testing notes. A space for tutorials, insights, and practical examples.">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="Rename_and_List_file_example 列出檔案目錄和如重新立名 | Chen-Chih Technical Note Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Rename_and_List_file_example 列出檔案目錄和如重新立名
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2024-11-28 15:16:40" itemprop="dateCreated datePublished" datetime="2024-11-28T15:16:40+08:00">2024-11-28</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-11-29 15:09:05" itemprop="dateModified" datetime="2024-11-29T15:09:05+08:00">2024-11-29</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/hexo-demo2022/categories/python/" itemprop="url" rel="index"><span itemprop="name">python</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/hexo-demo2022/categories/python/example/" itemprop="url" rel="index"><span itemprop="name">example</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <p>今天我想分享關於目錄和檔案相關範例，如重新立名，出檔案，我會用很多方式呈現出來。</p>
<h2 id="List-current-directory-目錄利出檔案"><a href="#List-current-directory-目錄利出檔案" class="headerlink" title="List current directory 目錄利出檔案"></a>List current directory 目錄利出檔案</h2><h3 id="list-your-file-in-current-directory-目錄列出檔案"><a href="#list-your-file-in-current-directory-目錄列出檔案" class="headerlink" title="list your file in current directory 目錄列出檔案"></a>list your file in current directory 目錄列出檔案</h3><p>我們常在 linux 和 window 都會用 ‵ls‵ 或　‵dir‵ 來列出我們目錄底下所有檔案。 可以用 <code>os.listdir()</code> 就可以利出所有目錄和檔案</p>
<blockquote>
<p>目前目錄下: <code>os.listdir()</code></p>
<p>指定位置: <code>os.listdir(path)</code></p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">import os</span><br><span class="line">for file in os.listdir():</span><br><span class="line">    print(file)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>output:</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">counter.py</span><br><span class="line">elogfile</span><br><span class="line">elogfile.txt</span><br><span class="line">elogfile2</span><br><span class="line">elogfile2.txt</span><br><span class="line">list_file.py</span><br><span class="line">logchecking.py</span><br><span class="line">logchecking_rename.py</span><br></pre></td></tr></table></figure>

<h3 id="filter-specific-file-or-file-type-篩選檔名"><a href="#filter-specific-file-or-file-type-篩選檔名" class="headerlink" title="filter specific file or file type 篩選檔名"></a>filter specific file or file type 篩選檔名</h3><p>有幾個方式可以用，如果要指定檔案類型 我們可以用: <code>startswith()</code> 或 <code>endswith()</code>.</p>
<p>You can filter file name or file extension with os module, however it have some limitation. You can use with the two option, which allow you to filter file start with specific file name or end with specific name which refer to the file extension.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">import os</span><br><span class="line">patternfixed=&quot;.txt&quot;</span><br><span class="line">patternfixed_start=&quot;elogfile&quot;</span><br><span class="line"></span><br><span class="line">matching_files = [file for file in os.listdir() if file.endswith(patternfixed)]</span><br><span class="line"># [&#x27;elogfile.txt&#x27;, &#x27;elogfile2.txt&#x27;]</span><br><span class="line"></span><br><span class="line">matching_files = [file for file in os.listdir() if file.startswith(patternfixed_start)]</span><br><span class="line"></span><br><span class="line"># [&#x27;elogfile&#x27;, &#x27;elogfile.txt&#x27;, &#x27;elogfile2&#x27;, &#x27;elogfile2.txt&#x27;]</span><br></pre></td></tr></table></figure>

<p>但這只能塞選出開頭或結尾檔名，更老的方式是用<code>fnmatch</code> 可以加一些 pattern 例如　<code>*XXX</code>，以下面範例我用 <code>elog*</code> 或 <code>*.txt</code> 會篩選出來檔名開頭是<code>elog</code>，file type 是<code>.txt </code></p>
<p>From below example I use the <code>fnmatch</code> module which allow me to use the pattern to filter specific file name or file type. So I add am <code>* asterisk</code> which is more flexible to filter file start with <code>elog</code> or file extension as <code>.txt</code> file.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">import os, fnmatch</span><br><span class="line"></span><br><span class="line">pattern = &quot;elog*&quot; or &quot;*.txt&quot;</span><br><span class="line">matching_files = [file for file in os.listdir() if fnmatch.fnmatch(file, pattern)]</span><br><span class="line"></span><br><span class="line"># result in list</span><br><span class="line">print(matching_files)</span><br><span class="line"># [&#x27;elogfile&#x27;, &#x27;elogfile.txt&#x27;, &#x27;elogfile2&#x27;, &#x27;elogfile2.txt&#x27;]</span><br><span class="line"></span><br><span class="line">#iterate through list</span><br><span class="line">for file in matching_files:</span><br><span class="line">    print(file)</span><br></pre></td></tr></table></figure>

<p><strong>Summary of listfile</strong></p>
<table>
<thead>
<tr>
<th align="center">Method</th>
<th align="center">Supports Wildcards</th>
<th align="center">Flexibility Example</th>
<th align="center">Use Case</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><code>endswith()</code></td>
<td align="center">No Matches</td>
<td align="center">files by their exact extension</td>
<td align="center">Get all <code>.txt</code> files</td>
</tr>
<tr>
<td align="center"><code>startswith()</code></td>
<td align="center">No Matches</td>
<td align="center">files by their exact prefix</td>
<td align="center">Get files starting with <code>log\* </code></td>
</tr>
<tr>
<td align="center"><code>fnmatch.fnmatch()</code></td>
<td align="center">Yes Matches</td>
<td align="center">complex patterns</td>
<td align="center">Get files with names like <code>log\**.txt‵ or ‵*data\*.csv</code></td>
</tr>
</tbody></table>
<h2 id="count-matching-file"><a href="#count-matching-file" class="headerlink" title="count matching file"></a>count matching file</h2><p>I provide serveral method to achieve it, see which one you perfer. Overall my best otpion is using glob module.</p>
<p>我有用很多不同方式，可以選哪一個妳喜號。</p>
<h3 id="方法一-os-listdir-跟-len"><a href="#方法一-os-listdir-跟-len" class="headerlink" title="[方法一] os.listdir 跟 len"></a>[方法一] os.listdir 跟 len</h3><p>這個方法我在上面篩選有用過一樣的程式，只是我要算出有找到幾個檔案。</p>
<p>Easy to understand. Directly counts files matching the pattern.<br>Less efficient for large directories with many files</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">import os</span><br><span class="line">file_pattern_file_startwith = &quot;elog&quot;</span><br><span class="line">filelen = len([file for file in os.listdir() if file.startswith(file_pattern)])</span><br><span class="line">matching_files= [file for file in os.listdir() if file.startswith(file_pattern)]</span><br><span class="line"></span><br><span class="line">print(f&#x27;contain &#123;filelen&#125; file, filename: &#123;matching_files&#125;&#x27;)</span><br><span class="line">#contain 2 file, filename: [&#x27;elogfile&#x27;, &#x27;elogfile2&#x27;]</span><br><span class="line">contain 2 file, filename: [&#x27;elogfile&#x27;, &#x27;elogfile2&#x27;]</span><br></pre></td></tr></table></figure>

<p>會發現有用兩個方式，一個用簡端方式，另一個是用傳通的方式，這個個其實是一樣的，只是有血人不習慣用簡端方式九可以參考一般的方式。</p>
<p>You will have notice I had provided two function which both functionality are the same, one is shorter code using comprehension method, and the other one uses traditional method. In case if you’re not used of using the shorter code, you can reference the traditional way.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">file_pattern_file_startwith = &quot;elog&quot;</span><br><span class="line">matching_files=[]</span><br><span class="line">filelen = 0</span><br><span class="line">for file in os.listdir():  #Loop through each file in the directory</span><br><span class="line">    if file.startswith(file_pattern_file_startwith): #Check if the file matches the pattern</span><br><span class="line">        matching_files.append(file)</span><br><span class="line">        filelen += 1</span><br><span class="line">print(f&#x27;contain &#123;filelen&#125; file, filename: &#123;matching_files&#125;&#x27;)</span><br></pre></td></tr></table></figure>

<p>可以改成函數 code 比較彈性和乾淨 change the above code into function for more flexibility and cleaner and more readability.</p>
<p><strong>make it into function</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">def check_file_count_listcomprehension (file_pattern):</span><br><span class="line">    filename = [file for file in os.listdir() if file.startswith(file_pattern)]</span><br><span class="line">    filecount = len(filename)</span><br><span class="line">    return filename,filecount</span><br><span class="line"></span><br><span class="line">file_pattern_file_startwith = &quot;elog&quot;</span><br><span class="line">matching_files,filelen=check_file_count_listcomprehension(file_pattern_file_startwith)</span><br><span class="line">print(f&#x27;contain &#123;filelen&#125; file, filename: &#123;matching_files&#125;&#x27;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="方法二-sum-方式"><a href="#方法二-sum-方式" class="headerlink" title="[方法二] sum 方式"></a>[方法二] sum 方式</h3><p>Memory-efficient, Faster for large directories as it doesn’t require storing unnecessary data.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">import os</span><br><span class="line"></span><br><span class="line">file_pattern_file_startwith = &quot;elog&quot;</span><br><span class="line"></span><br><span class="line">matching_files = [file for file in os.listdir() if file.startswith(file_pattern_file_startwith)]</span><br><span class="line"></span><br><span class="line">filelen=sum(1 for file in os.listdir() if file.startswith(file_pattern_file_startwith))</span><br><span class="line"></span><br><span class="line">print(f&#x27;contain &#123;filelen&#125; file, filename: &#123;matching_files&#125;&#x27;)</span><br><span class="line">#contain 2 file, filename: [&#x27;elogfile&#x27;, &#x27;elogfile2&#x27;]</span><br></pre></td></tr></table></figure>

<blockquote>
<p>output: <code>contain 2 file, filename: [&#39;elogfile&#39;, &#39;elogfile2&#39;]</code></p>
</blockquote>
<p><strong>make it into function</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">def check_file_count_withsum(file_pattern):</span><br><span class="line">    filelen = sum(1 for file in os.listdir() if file.startswith(file_pattern))  # Count matching files</span><br><span class="line">    filenames = [file for file in os.listdir() if file.startswith(file_pattern)]  # List matching files</span><br><span class="line">    return filelen, filenames  # Return both count and filenames</span><br><span class="line">file_pattern_file_startwith = &quot;elog&quot;</span><br><span class="line"></span><br><span class="line"># Call the function and get results</span><br><span class="line">filelen, matching_files = check_file_count_withsum(file_pattern_file_startwith)</span><br><span class="line"></span><br><span class="line"># Print results</span><br><span class="line">print(f&#x27;Contain &#123;filelen&#125; file(s), filename(s): &#123;matching_files&#125;&#x27;)</span><br></pre></td></tr></table></figure>

<h3 id="方法三-glob-方式"><a href="#方法三-glob-方式" class="headerlink" title="[方法三] glob 方式"></a>[方法三] glob 方式</h3><p>Supports advanced wildcard patterns <code>(*, ?, etc.)</code>, making it more versatile.<br>Convenient for matching complex patterns.<br>Less efficient for large directories with many files</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">import os, glob</span><br><span class="line">file_pattern = &quot;elog*&quot;</span><br><span class="line"></span><br><span class="line"># Get the list of matching files (debug used)</span><br><span class="line">matching_files = glob.glob(file_pattern)</span><br><span class="line">filelen=len(matching_files)</span><br><span class="line">print(f&#x27;contain &#123;filelen&#125; file, filename: &#123;matching_files&#125;&#x27;)</span><br><span class="line">#contain 2 file, filename: [&#x27;elogfile&#x27;, &#x27;elogfile2&#x27;]</span><br></pre></td></tr></table></figure>

<blockquote>
<p>output: <code>contain 2 file, filename: [&#39;elogfile&#39;, &#39;elogfile2&#39;]</code></p>
</blockquote>
<p><strong>make it into function</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">def check_file_count(file_pattern):</span><br><span class="line">    filename=glob.glob(file_pattern)</span><br><span class="line">    return filename, len(filename)</span><br><span class="line"></span><br><span class="line">file_pattern = &quot;elog*&quot;</span><br><span class="line"></span><br><span class="line">matching_files,filelen=check_file_count(file_pattern)</span><br><span class="line">print(f&#x27;contain &#123;filelen&#125; file, filename: &#123;matching_files&#125;&#x27;)</span><br><span class="line">#contain 2 file, filename: [&#x27;elogfile&#x27;, &#x27;elogfile2&#x27;]</span><br></pre></td></tr></table></figure>

<h2 id="Rename-File"><a href="#Rename-File" class="headerlink" title="Rename File"></a>Rename File</h2><p>在這邊我們來修改檔名，我會用單一案跟多個檔案。<br>In this part I wants to show you how to rename with one file and multiple file. Let use any of the method from above to get the file you want.</p>
<h3 id="single-file-rename"><a href="#single-file-rename" class="headerlink" title="single file rename"></a>single file rename</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">import os, glob</span><br><span class="line">file_pattern = &quot;elogfile&quot;</span><br><span class="line">matching_files = glob.glob(file_pattern)</span><br><span class="line">filelen=len(matching_files)</span><br></pre></td></tr></table></figure>

<p>As you can see the result of the file it matches will return as list datatype, you can try with this <code>print(type(matching_files))#&lt;class &#39;list&#39;&gt;</code><br>如果要修改檔名妳資料類別一定要是 str，篩選結果不會是 str，需要轉成 str，才能改名稱。我們可以用 <code>print(type(matching_files))#&lt;class &#39;list&#39;&gt;</code> 他會顯示他的資料類別是 list。下面有介紹一些方法如何轉成 str 也可以順利修改檔名。</p>
<p>You need to change it into str to be able to convert. You can either use the index or join method like</p>
<blockquote>
<p>get the first name: <code>print(matching_files[0])</code></p>
<p>convert list to string:　‵filename&#x3D;””.join(matching_files)‵</p>
</blockquote>
<p>Let rename the file using the below code, syntax: <code>rename(original_file_name, new_file_name)</code>. In the below example you can see my original file name called <code>elogfile</code>, and change to <code>newelogfile</code> name.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">import os, glob, fnmatch</span><br><span class="line"></span><br><span class="line">#search filename elogfile</span><br><span class="line"></span><br><span class="line">org_filename = &quot;elogfile&quot;</span><br><span class="line">logfilename=&quot;newelogfile&quot;</span><br><span class="line"></span><br><span class="line">#check file</span><br><span class="line">matching_files = glob.glob(org_filename)</span><br><span class="line"></span><br><span class="line">#count exist file</span><br><span class="line">filelen=len(matching_files)</span><br><span class="line">print(f&#x27;contain &#123;filelen&#125; file, filename: &#123;matching_files&#125;&#x27;)</span><br><span class="line">#print(f&#x27;Found only  &#123;filelen&#125; file: &#123;matching_files[0]&#125;&#x27;)</span><br><span class="line"></span><br><span class="line">#rename filename</span><br><span class="line">try:</span><br><span class="line">    os.rename(matching_files[0], logfilename)</span><br><span class="line">    print(f&#x27;Renamed &#123;matching_files[0]&#125; to &#123;logfilename&#125;&#x27;)</span><br><span class="line">except Exception as e:</span><br><span class="line">    print(f&quot;Error renaming file: &#123;e&#125;&quot;)</span><br><span class="line"></span><br><span class="line">#list current directory filename that contain *logfile*</span><br><span class="line">print(&#x27;=&#x27;*70)</span><br><span class="line">checkfilepattern = &quot;*logfile*&quot;</span><br><span class="line">listfiles= [file for file in os.listdir() if fnmatch.fnmatch(file, checkfilepattern)]</span><br><span class="line">print(f&quot;List current filename: &#123;listfiles&#125;&quot;)</span><br></pre></td></tr></table></figure>

<p>As you can see the filename is been changed, I show the current directory filename with filter file contain <code>logfile</code> which you can see only the <code>elogfile</code> is been change the <code>elogfile2</code> still the same. This is a basic of rename with SINGLE FILE.</p>
<blockquote>
<p><strong>Output:</strong></p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">contain 1 file, filename: [&#x27;elogfile&#x27;]</span><br><span class="line">Renamed elogfile to newelogfile</span><br><span class="line">======================================================================</span><br><span class="line">List current filename: [&#x27;elogfile2&#x27;, &#x27;newelogfile&#x27;]</span><br><span class="line">PS C:\Users\test\Desktop\elog_parser\Layer2\singleUe\debug_log_check&gt;</span><br></pre></td></tr></table></figure>

<h3 id="Rename-with-Multiple-File"><a href="#Rename-with-Multiple-File" class="headerlink" title="Rename with Multiple File"></a>Rename with Multiple File</h3><p>Now let me show how to change to multiple filename, using the same example from previous, with filename <code>elogfile</code> and <code>elogfile2</code> and change to newelogfile.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">import os, glob, fnmatch</span><br><span class="line">#search filename elogfile</span><br><span class="line"></span><br><span class="line">org_filename = &quot;elogfile*&quot;</span><br><span class="line">logfilename=&quot;newelogfile&quot;</span><br><span class="line"></span><br><span class="line">#check file</span><br><span class="line">matching_files = glob.glob(org_filename)</span><br><span class="line"></span><br><span class="line">#count exist file</span><br><span class="line">filelen=len(matching_files)</span><br><span class="line">print(f&#x27;contain &#123;filelen&#125; file, filename: &#123;matching_files&#125;&#x27;)</span><br><span class="line">#contain 2 file, filename: [&#x27;elogfile&#x27;, &#x27;elogfile2&#x27;]</span><br><span class="line"></span><br><span class="line">#rename filename</span><br><span class="line">for i, file in enumerate(matching_files):</span><br><span class="line">    try:</span><br><span class="line">        new_name = f&quot;&#123;logfilename&#125;_&#123;i&#125;&quot;  # Generate a unique name for each file</span><br><span class="line">        os.rename(file, new_name)  # Rename each file</span><br><span class="line">        print(f&quot;Renamed &#123;file&#125; to &#123;new_name&#125;&quot;)</span><br><span class="line">    except Exception as e:</span><br><span class="line">         print(f&quot;Error renaming file &#123;file&#125;: &#123;e&#125;&quot;)</span><br><span class="line">print(&#x27;=&#x27;*70)</span><br><span class="line">checkfilepattern = &quot;newelogfile*&quot;</span><br><span class="line">listfiles= [file for file in os.listdir() if fnmatch.fnmatch(file, checkfilepattern)]</span><br><span class="line">print(f&quot;List current filename: &#123;listfiles&#125;&quot;)</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>Output:</strong></p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">contain 2 file, filename: [&#x27;elogfile&#x27;, &#x27;elogfile2&#x27;]</span><br><span class="line">Renamed elogfile to newelogfile_0</span><br><span class="line">Renamed elogfile2 to newelogfile_1</span><br><span class="line">======================================================================</span><br><span class="line">List current filename: [&#x27;newelogfile_0&#x27;, &#x27;newelogfile_1&#x27;]</span><br><span class="line"></span><br></pre></td></tr></table></figure>

    </div>

    
    
    

    <footer class="post-footer">
          

<div class="post-copyright">
<ul>
  <li class="post-copyright-author">
      <strong>Post author:  </strong>chenchih
  </li>
  <li class="post-copyright-link">
      <strong>Post link: </strong>
      <a href="https://chenchih.github.io/hexo-demo2022/2024/11/28/20241128_Rename_and_List_file_example/" title="Rename_and_List_file_example 列出檔案目錄和如重新立名">https://chenchih.github.io/hexo-demo2022/2024/11/28/20241128_Rename_and_List_file_example/</a>
  </li>
  <li class="post-copyright-license">
    <strong>Copyright Notice:  </strong>All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="noopener" target="_blank"><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</a> unless stating additionally.
  </li>
</ul>
</div>

          <div class="post-tags">
              <a href="/hexo-demo2022/tags/python/" rel="tag"># python</a>
              <a href="/hexo-demo2022/tags/file/" rel="tag"># file</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/hexo-demo2022/2024/11/28/20241128_count-string-occurrences/" rel="prev" title="count_string_occurrences 文字出現的次數">
                  <i class="fa fa-chevron-left"></i> count_string_occurrences 文字出現的次數
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/hexo-demo2022/2025/01/06/20250106_update-python-jupyter/" rel="next" title="update_python_jupyter">
                  update_python_jupyter <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">chenchih</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" rel="noopener" target="_blank">NexT.Gemini</a>
  </div>

    </div>
  </footer>

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/hexo-demo2022/js/comments.js"></script><script src="/hexo-demo2022/js/utils.js"></script><script src="/hexo-demo2022/js/motion.js"></script><script src="/hexo-demo2022/js/next-boot.js"></script>

  





  





</body>
</html>
